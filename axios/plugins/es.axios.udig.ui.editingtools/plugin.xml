<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="net.refractions.udig.project.ui.tool">
      <modalTool
            categoryId="net.refractions.udig.tool.edit.feature"
            class="es.axios.udig.ui.editingtools.trim.TrimTool"
            icon="icons/etool16/trim_feature_mode.gif"
            id="es.axios.udig.ui.editingtools.trim.TrimTool"
            name="%plugin.name_trim"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="%plugin.tooltip_trim">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/edit_source.gif"/>
         <enablement>
            <and>
               <property
                     propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
               <or>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.LineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.MultiLineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
               </or>
            </and>
         </enablement>
      </modalTool>
      <modalTool
            categoryId="net.refractions.udig.tool.edit.feature"
            class="es.axios.udig.ui.editingtools.split.SplitTool"
            icon="icons/etool16/split_feature_mode.gif"
            id="es.axios.udig.ui.editingtools.split.SplitTool"
            name="%plugin.name_split"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="%plugin.tooltip_split">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/merge_cursor.gif"/>
         <enablement>
            <and>
               <property
                     propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
               <not>
                  <or>
                     <property
                           expectedValue="com.vividsolutions.jts.geom.Point"
                           propertyId="net.refractions.udig.project.ui.GeometryType"/>
                     <property
                           expectedValue="com.vividsolutions.jts.geom.MultiPoint"
                           propertyId="net.refractions.udig.project.ui.GeometryType"/>
                  </or>
               </not>
            </and>
         </enablement>
      </modalTool>
      <modalTool
            categoryId="net.refractions.udig.tool.edit.feature"
            class="es.axios.udig.ui.editingtools.merge.MergeTool"
            icon="icons/etool16/merge_feature_mode.gif"
            id="es.axios.udig.ui.editingtools.merge.MergeTool"
            name="%plugin.name_merge"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="%plugin.tooltip_merge">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/merge_cursor.gif"/>
         <enablement>
            <property
                  propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
         </enablement>
      </modalTool>
      <modalTool
            categoryId="net.refractions.udig.tool.edit.create"
            class="es.axios.udig.ui.editingtools.arc.ArcTool"
            icon="icons/etool16/arc_tool.gif"
            id="es.axios.udig.ui.editingtools.arc.ArcTool"
            name="%plugin.name_arc"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="%plugin.tooltip_arc">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/edit_source.gif"/>
         <enablement>
            <and>
               <property
                     propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
               <or>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.LineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.MultiLineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
               </or>
            </and>
         </enablement>
      </modalTool>
      <modalTool
            categoryId="net.refractions.udig.tool.edit.create"
            class="es.axios.udig.ui.editingtools.parallel.LineTool2"
            icon="icons/etool16/new_line_tool.gif"
            id="es.axios.udig.ui.editingtools.LineTool2"
            name="Advanced Line Tool"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="Create a LineString with advanced behaviour">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/edit_source.gif"/>
         <enablement>
            <and>
               <property
                     propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
               <or>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.MultiLineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.LineString"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
               </or>
            </and>
         </enablement>
      </modalTool>
      <modalTool
            categoryId="net.refractions.udig.tool.edit.create"
            class="es.axios.udig.ui.editingtools.parallel.PolygonTool2"
            icon="icons/etool16/polygon_tool.gif"
            id="es.axios.udig.ui.editingtools.PolygonTool2"
            name="Advanced Polygon Tool"
            onToolbar="true"
            toolCursorId="arrowCursor"
            tooltip="Create a Polygon with advanced behaviour">
         <cursor
               hotspotX="10"
               hotspotY="10"
               image="icons/pointers/edit_source.gif"/>
         <enablement>
            <and>
               <property
                     propertyId="net.refractions.udig.project.FeatureStoreResourceProperty" expectedValue=""/>
               <or>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.MultiPolygon"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
                  <property
                        expectedValue="com.vividsolutions.jts.geom.Polygon"
                        propertyId="net.refractions.udig.project.ui.GeometryType"/>
               </or>
            </and>
         </enablement>
      </modalTool>
   </extension>
   <extension
         name="Plugin contributed behaviours for edit tools"
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="net.refractions.udig.tool.edit.behaviour"
            label="Extra edit tool behaviours"
            visible="true">
         <action
               allowLabelUpdate="false"
               class="es.axios.udig.ui.editingtools.parallel.SnapLineAction"
               icon="icons/etool16/snap_to_line_mode.gif"
               id="net.refractions.udig.tool.edit.behaviour.SnapToLine"
               label="Snap to Line"
               pulldown="false"
               state="false"
               style="radio"
               toolbarPath="net.refractions.udig.tool.edit.behaviour"
               tooltip="Snap to closest point over a line segment"/>
         <action
               allowLabelUpdate="false"
               class="es.axios.udig.ui.editingtools.parallel.SnapAction"
               icon="icons/etool16/snap_to_vertex_mode.gif"
               id="net.refractions.udig.tool.edit.behaviour.SnapToVertex"
               label="Snap"
               pulldown="false"
               state="false"
               style="radio"
               toolbarPath="net.refractions.udig.tool.edit.behaviour"
               tooltip="Snap to vertex">
         </action>
         <action
               class="es.axios.udig.ui.editingtools.parallel.OrthoAction"
               icon="icons/etool16/ortho_mode.gif"
               id="net.refractions.udig.tool.edit.behaviour.OrthoLines"
               label="Ortho"
               pulldown="false"
               state="false"
               style="radio"
               toolbarPath="net.refractions.udig.tool.edit.behaviour"
               tooltip="Allows to draw only lines orthogonal to the reference system axes"/>
         <action
               class="es.axios.udig.ui.editingtools.parallel.ParallelAction"
               icon="icons/etool16/parallel_mode.gif"
               id="net.refractions.udig.tool.edit.behaviour.Parallel"
               label="Parallel"
               pulldown="false"
               state="false"
               style="radio"
               toolbarPath="net.refractions.udig.tool.edit.behaviour"
               tooltip="Allows to select a line segment from another feature and draw another parallel to it"/>
      </actionSet>
   </extension>

</plugin>
